<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Sanco's Night Hunt - Realistic Shading</title>
    <style>
        body { margin: 0; background: #000; overflow: hidden; font-family: 'Courier New', monospace; cursor: none; }
        canvas { display: block; }
        
        #ui { position: absolute; top: 20px; left: 20px; color: #0f0; font-size: 20px; text-shadow: 0 0 5px #0f0; pointer-events: none; z-index: 10; }
        
        #game-over {
            position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);
            background: rgba(0, 20, 0, 0.95); padding: 40px; border: 2px solid #0f0;
            text-align: center; display: none; width: 400px; color: #0f0; z-index: 100;
        }
        .btn { display: block; width: 100%; padding: 15px; margin: 10px 0; font-weight: bold; text-decoration: none; cursor: pointer; border: 1px solid #0f0; background: transparent; color: #0f0; text-transform: uppercase; }
        .btn:hover { background: #0f0; color: #000; }
        .sponsor-text { font-size: 14px; color: #0a0; margin: 20px 0 5px 0; }
    </style>
</head>
<body>

<div id="ui">NV_SYSTEM_ONLINE // SCORE: <span id="score">0</span> // TIME: <span id="timer">60</span>s</div>

<div id="game-over">
    <h1 style="margin-top:0; letter-spacing: 4px;">HUNT CONCLUDED</h1>
    <p id="final-stats"></p>
    <p class="sponsor-text">You've tried the course. Now watch the real pros.</p>
    <a class="btn" href="https://www.youtube.com/@SancoOutdoors" target="_blank">ðŸŽ¬ SUB TO SANCO</a>
    <p class="sponsor-text">Or please tip the sponsor:</p>
    <a class="btn" href="https://www.sanangelogives.org/organization/emmanuelschooloffinearts" target="_blank">ðŸŽ» TIP ESOFA</a>
    <button class="btn" style="border-color: #555; color: #555;" onclick="location.reload()">RE-SYNC SYSTEM</button>
</div>

<canvas id="gameCanvas"></canvas>

<script>
const canvas = document.getElementById('gameCanvas');
const ctx = canvas.getContext('2d');
canvas.width = window.innerWidth;
canvas.height = window.innerHeight;

let score = 0;
let timeLeft = 60;
let gameActive = true;
let flashOpacity = 0;
const deerArray = [];

const trees = Array.from({length: 50}, () => ({
    x: Math.random() * canvas.width,
    y: canvas.height - 100,
    w: 15 + Math.random() * 25,
    h: 150 + Math.random() * 450,
    shade: 5 + Math.floor(Math.random() * 15)
}));

let mouseX = canvas.width/2, mouseY = canvas.height/2;
window.addEventListener('mousemove', e => { mouseX = e.clientX; mouseY = e.clientY; });

window.addEventListener('mousedown', () => {
    if (!gameActive) return;
    flashOpacity = 0.7; 
    for (let i = deerArray.length - 1; i >= 0; i--) {
        let d = deerArray[i];
        let dx = mouseX - (d.x + d.w/2);
        let dy = mouseY - (d.y + d.h/2);
        if (Math.sqrt(dx*dx + dy*dy) < 60) {
            score += 10;
            deerArray.splice(i, 1);
            document.getElementById('score').innerText = score;
        }
    }
});

function drawDeer(d) {
    ctx.save();
    ctx.translate(d.x, d.y);
    if (d.speed < 0) { ctx.scale(-1, 1); ctx.translate(-d.w, 0); }
    
    let walk = Math.sin(d.frame) * 4;

    // 1. LEANER BODY with GRADIENT SHADING
    // Create a gradient to give the body depth (brighter center, darker edges)
    let bodyGrad = ctx.createRadialGradient(45, 35, 5, 45, 40, 35);
    bodyGrad.addColorStop(0, '#4f4'); // Highlight
    bodyGrad.addColorStop(1, '#0a0'); // Shadow green
    ctx.fillStyle = bodyGrad;
    ctx.beginPath();
    // Reduced vertical radius from 22 to 16 for skinnier look
    ctx.ellipse(45, 38, 38, 16, 0, 0, Math.PI * 2);
    ctx.fill();

    // 2. SKINNER LEGS
    ctx.fillStyle = '#0b0'; // Slightly darker solid green for legs
    // Reduced width from 5 to 3
    ctx.fillRect(20, 48, 3, 28 + walk);
    ctx.fillRect(32, 48, 3, 28 - walk);
    ctx.fillRect(60, 48, 3, 28 + walk);
    ctx.fillRect(72, 48, 3, 28 - walk);

    // 3. SLIMMER NECK & HEAD
    ctx.fillStyle = '#3f3'; // Brighter green for head area
    ctx.beginPath();
    ctx.moveTo(70, 38); // Adjusted starting point
    ctx.quadraticCurveTo(82, 35, 95, 10); // Slimmer neck curve
    ctx.lineTo(112, 16); // Snout
    ctx.lineTo(106, 6); 
    ctx.lineTo(90, 5);
    ctx.fill();
    
    // Antlers (Brighter green)
    ctx.strokeStyle = '#6f6';
    ctx.lineWidth = 2.5;
    ctx.beginPath();
    ctx.moveTo(92, 5); ctx.quadraticCurveTo(80, -30, 110, -50);
    ctx.moveTo(96, 5); ctx.quadraticCurveTo(110, -30, 130, -40);
    ctx.moveTo(95, -25); ctx.lineTo(105, -45);
    ctx.moveTo(105, -35); ctx.lineTo(120, -55);
    ctx.stroke();
    
    ctx.restore();
}

function spawnDeer() {
    if (!gameActive) return;
    let dir = Math.random() > 0.5 ? 1 : -1;
    deerArray.push({
        x: dir === 1 ? -150 : canvas.width + 150,
        y: canvas.height - 270 + (Math.random() * 70),
        speed: (2.5 + Math.random() * 2.5) * dir,
        w: 120, h: 100, frame: 0
    });
    setTimeout(spawnDeer, 2200 - Math.min(score * 8, 1400));
}

function update() {
    if (!gameActive) return;
    deerArray.forEach((d, i) => {
        d.x += d.speed;
        d.frame += 0.12;
        if (d.x > canvas.width + 300 || d.x < -300) deerArray.splice(i, 1);
    });
    if (flashOpacity > 0) flashOpacity -= 0.08;
    draw();
    requestAnimationFrame(update);
}

function draw() {
    ctx.fillStyle = '#001a00';
    ctx.fillRect(0, 0, canvas.width, canvas.height);

    trees.forEach(t => {
        ctx.fillStyle = `rgb(0, ${t.shade}, 0)`;
        ctx.fillRect(t.x, canvas.height - t.h, t.w, t.h);
    });

    deerArray.forEach(drawDeer);

    if (flashOpacity > 0) {
        ctx.fillStyle = `rgba(255, 255, 255, ${flashOpacity})`;
        ctx.fillRect(0, 0, canvas.width, canvas.height);
    }

    ctx.save();
    ctx.beginPath();
    let offset = 160; 
    ctx.arc(mouseX - offset, mouseY, 220, 0, Math.PI * 2, false);
    ctx.arc(mouseX + offset, mouseY, 220, 0, Math.PI * 2, false);
    ctx.rect(canvas.width, 0, -canvas.width, canvas.height);
    ctx.fillStyle = "rgba(0, 0, 0, 0.93)";
    ctx.fill();

    ctx.strokeStyle = '#0f0'; ctx.lineWidth = 3;
    ctx.beginPath(); ctx.arc(mouseX - offset, mouseY, 220, 0, Math.PI * 2); ctx.stroke();
    ctx.beginPath(); ctx.arc(mouseX + offset, mouseY, 220, 0, Math.PI * 2); ctx.stroke();
    
    ctx.lineWidth = 1; ctx.strokeStyle = 'rgba(0, 255, 0, 0.3)';
    for(let x = -400; x <= 400; x += 80) { ctx.moveTo(mouseX + x, mouseY - 220); ctx.lineTo(mouseX + x, mouseY + 220); }
    for(let y = -220; y <= 220; y += 80) { ctx.moveTo(mouseX - 380, mouseY + y); ctx.lineTo(mouseX + 380, mouseY + y); }
    ctx.stroke();

    ctx.fillStyle = "rgba(0, 255, 0, 0.04)";
    for(let i=0; i<canvas.height; i+=4) { ctx.fillRect(0, i, canvas.width, 1); }
    ctx.restore();
}

const timerInt = setInterval(() => {
    if (!gameActive) return;
    timeLeft--;
    document.getElementById('timer').innerText = timeLeft;
    if (timeLeft <= 0) {
        gameActive = false;
        document.getElementById('final-stats').innerText = `TROPHY TAGS: ${score/10} // TOTAL SCORE: ${score}`;
        document.getElementById('game-over').style.display = 'block';
    }
}, 1000);

spawnDeer();
update();
</script>
</body>
</html>
